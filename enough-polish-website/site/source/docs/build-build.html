<%define inDocumentationSection %>
<%define inDocumentationSection.build %>
<%set title = J2ME Polish: Documentation %>
<%set basedir = ../ %>
<%include start.txt %>

	<div id="content">
	<h1 id="top">The &lt;build&gt;-Section</h1>
	<%index %>
	<p>
With the &lt;build&gt;-section the actual build process is controlled: 
<pre>
&lt;build
     symbols=&quot;ExampleSymbol, AnotherExample&quot;
     imageLoadStrategy=&quot;background&quot;
     fullscreen=&quot;menu&quot;
     usePolishGui=&quot;true&quot;
     preverify=&quot;/home/enough/dev/WTK2.1/bin/preverify&quot;
     resDir=&quot;resources2&quot;
     &gt;
     &lt;!-- midlets definition --&gt;
     &lt;midlet class=&quot;de.enough.polish.example.MenuMidlet&quot; name=&quot;Example&quot; /&gt;
     &lt;!-- project-wide variables - used for preprocessing  --&gt;
     &lt;variables&gt;
       &lt;variable name=&quot;update-url&quot; value=&quot;http://www.enough.de/update&quot; /&gt;
     &lt;/variables&gt;
     &lt;!-- obfuscator settings --&gt;
     &lt;obfuscator unless=&quot;test&quot; 
                    enable=&quot;true&quot; 
                    name=&quot;ProGuard&quot; /&gt;
     &lt;!-- debug settings --&gt;
     &lt;debug if=&quot;test&quot; 
               enable=&quot;true&quot; 
               useGui=&quot;true&quot; 
               verbose=&quot;true&quot; 
               level=&quot;error&quot;&gt;
        &lt;filter pattern=&quot;de.enough.polish.example.*&quot; level=&quot;debug&quot; /&gt;
        &lt;filter pattern=&quot;de.enough.polish.ui.*&quot; level=&quot;warn&quot; /&gt;
     &lt;/debug&gt;
&lt;/build&gt;</pre></p>
	<h2 id="attributes">Supported Attributes</h2>
	<p>Following attributes are supported by the build section:
	</p>
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>build-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>preverify</td>
 	 <td>Yes</td>
	 <td>The path to the preverify executable of the Wireless Toolkit. The program is usually within the &quot;bin&quot; folder of the Wireless Toolkit.</td>
	</tr>
	<tr><td>sourceDir</td>
 	 <td>No</td>
	 <td>The path to the source directory. The default path is either &quot;source/src&quot;, &quot;source&quot; or &quot;src&quot;. You can define several paths by separating them with a colon ':' or a semicolon ';': 
[path1]:[path2]</td>
	</tr>
	<tr><td>polishDir</td>
 	 <td>No</td>
	 <td>The directory containing the sources of J2ME Polish. Defaults to the enough-j2mepolish-build.jar.</td>
	</tr>
	<tr><td>binaryLibraries</td>
 	 <td>No</td>
	 <td>Either the name of the directory which contains binary-only libraries or the name(s) of the libraries. Several libraries can be separated by colons ':' or by semicolons ';'. When no path is defined, the libraries will be searched within the &quot;import&quot; folder by default.</td>
	</tr>
	<tr><td>symbols</td>
 	 <td>No</td>
	 <td>Project specific symbols, e.g. &quot;showSplash&quot; which can be checked with &quot;//#ifdef showSplash&quot; in the source code. Several symbols need to be separated by comma.</td>
	</tr>
	<tr><td>javacTarget</td>
 	 <td>No</td>
	 <td>The target for the java-compiler. By default the &quot;1.2&quot; target is used, unless a WTK 1.x or Mac OS X is used, in which case the target &quot;1.1&quot; is used.</td>
	</tr>
	<tr><td>usePolishGui</td>
 	 <td>No</td>
	 <td>Defines whether the J2ME Polish GUI should be used at all. Possible values are &quot;true&quot; or &quot;false&quot;. Even if the GUI should be used, it will be used only for devices which have the necessary capabilities (e.g. a color depth of at least 8 bits). Default value is &quot;true&quot;.</td>
	</tr>
	<tr><td>fullscreen</td>
 	 <td>No</td>
	 <td>Defines whether the complete screen should be used for devices which support a full screen mode. Currently these include only devices which support the Nokia-UI API. Possible values are either &quot;no&quot;, &quot;yes&quot; and &quot;menu&quot;. With &quot;yes&quot; the complete screen is used but no commands are supported. With &quot;menu&quot; commands can be used as well. Default setting is &quot;no&quot;.</td>
	</tr>
	<tr><td>imageLoadStrategy</td>
 	 <td>No</td>
	 <td>The strategy for loading pictures. Possible values are either &quot;foreground&quot; or &quot;background&quot;. The &quot;foreground&quot; strategy loads images directly when they are requested. The &quot;background&quot; strategy loads the images in a background-thread. With the background strategy the felt performance of an application can be increased, but not all pictures might be shown right away when the user enters a screen. The definition of the imageLoadStrategy makes only sense when the J2ME&nbsp;Polish GUI is used (usePolishGui=&quot;true&quot;). Default strategy is &quot;foreground&quot;. When the &quot;foreground&quot; strategy is used, the preprocessing symbol &quot;polish.images.directLoad&quot; will be defined. When using the &quot;background&quot; strategy, the symbol &quot;polish.images.backgroundLoad&quot; is defined.</td>
	</tr>
	<tr><td>devices</td>
 	 <td>No</td>
	 <td>Path to the devices.xml-file. Defaults to devices.xml in the current folder or in enough-j2mepolish-build.jar.</td>
	</tr>
	<tr><td>groups</td>
 	 <td>No</td>
	 <td>Path to the groups.xml-file. Defaults to groups.xml in the current folder or in enough-j2mepolish-build.jar.</td>
	</tr>
	<tr><td>vendors</td>
 	 <td>No</td>
	 <td>Path to the vendors.xml-file. Defaults to vendors.xml in the current folder or in enough-j2mepolish-build.jar.</td>
	</tr>
	<tr><td>apis</td>
 	 <td>No</td>
	 <td>Path to the apis.xml-file. Defaults to apis.xml in the current folder or in enough-j2mepolish-build.jar.</td>
	</tr>
	<tr><td>midp1Path</td>
 	 <td>No</td>
	 <td>Path to the MIDP/1.0 API. Defaults to &quot;import/midp1.jar&quot;.</td>
	</tr>
	<tr><td>midp2Path</td>
 	 <td>No</td>
	 <td>Path to the MIDP/2.0 API. Defaults to &quot;import/midp2.jar&quot;</td>
	</tr>
	<tr><td>workDir</td>
 	 <td>No</td>
	 <td>The temporary build folder. Defaults to &quot;build&quot;.</td>
	</tr>
	<tr><td>destDir</td>
 	 <td>No</td>
	 <td>The folder into which the &quot;ready-to-deploy&quot; application bundles should be stored. Defaults to &quot;dist&quot;.</td>
	</tr>
	<tr><td>apiDir</td>
 	 <td>No</td>
	 <td>The folder in which the APIs are stored, defaults to &quot;import&quot;.</td>
	</tr>
	<tr><td>resDir</td>
 	 <td>No</td>
	 <td>The folder which contains all design definitions and other resources like images, movies etc. By setting a different folder, completely different designs can be demonstrated. Default folder is &quot;resources&quot;.
	 You can also use the &lt;resources&gt;-subelement which allows to fine-tune the
	 resource-assembling process as well.
	 </td>
	</tr>
	<tr><td>obfuscate</td>
 	 <td>No</td>
	 <td>Either &quot;true&quot; or &quot;false&quot;. Defines whether the applications should be obfuscated. Defaults to &quot;false&quot;.  Alternatively the nested element &quot;obfuscator&quot; can be used (see below).</td>
	</tr>
	<tr><td>obfuscator</td>
 	 <td>No</td>
	 <td>The name of the obfuscator. Defaults to <a href="http://proguard.sourceforge.net" target="_blank">&quot;ProGuard&quot;</a>. 
	 Alternatively the nested element &quot;obfuscator&quot; can be used (see below).</td>
	</tr>
	</table>
	<h2 id="nested">Nested Elements</h2>
	<p>The build section supports several nested elements: &lt;midlet&gt;, 
	&lt;midlets&gt;, &lt;resources&gt;, &lt;obfuscator&gt;, &lt;variables&gt;, 
	&lt;debug&gt;, &lt;jad&gt;, &lt;manifestFilter&gt; , 
	&lt;preprocessor&gt; and &lt;java&gt;.	
	</p>
	<h3 id="midlet">&lt;midlet&gt; and &lt;midlets&gt;</h3>
	<p>The &lt;midlet&gt;-element defines the actual MIDlet class:
<br/><code>&lt;midlet class=&quot;de.enough.polish.example.ExampleMidlet&quot; /&gt;</code>
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>midlet-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>class</td>
 	 <td>Yes</td>
	 <td>The complete package and class-name of the MIDlet.</td>
	</tr>
	<tr><td>name</td>
 	 <td>No</td>
	 <td>The name of the MIDlet. Default is the class-name without the package: The MIDlet 
	 &quot;com.company.SomeMidlet&quot; is named &quot;SomeMidlet&quot; by default.</td>
	</tr>
	<tr><td>icon</td>
 	 <td>No</td>
	 <td>The icon of this MIDlet. When none is defined, the icon defined in the &lt;info&gt;-section will be used.</td>
	</tr>
	<tr><td>number</td>
 	 <td>No</td>
	 <td>The number of this MIDlet. This is interesting only for MIDlet-suites in which several MIDlets are contained.</td>
	</tr>
	</table>
	<p>
	The optional &lt;midlets&gt;-element is used as a container for several &lt;midlet&gt;-elements:
<pre>
&lt;midlets&gt;
	&lt;midlet class=&quot;de.enough.polish.example.ExampleMidlet&quot; /&gt;
	&lt;midlet name=&quot;J2ME Polish Demo&quot; number=&quot;2&quot; icon=&quot;no2.png&quot;
		  class=&quot;de.enough.polish.example.GuiDemoMidlet&quot; /&gt;
&lt;/midlets&gt;
</pre></p>

	<h3 id="resources">&lt;resources&gt;</h3>
	<p>
<pre>
&lt;resources
	dir=&quot;resources&quot;
	excludes=&quot;*.txt&quot;
&gt;
	&lt;fileset 
		dir=&quot;resources/multimedia&quot; 
		includes=&quot;*.mp3&quot; 
		if=&quot;polish.audio.mp3&quot; 
	/&gt;
	&lt;fileset 
		dir=&quot;resources/multimedia&quot; 
		includes=&quot;*.mid&quot; 
		if=&quot;polish.audio.midi and not polish.audio.mp3&quot; 
	/&gt;
	&lt;localization locales=&quot;de, en&quot; unless=&quot;test&quot; /&gt;
	&lt;localization locales=&quot;en&quot; if=&quot;test&quot; /&gt;
&lt;/resources&gt;
</pre>
	</p>
	<p>
	The &lt;resources&gt;-element can be used to fine tune the resources assembling as well as the localization of the application. When it is used, the &quot;resDir&quot;-attribute of the &lt;build&gt;-section should not be used. The &lt;resources&gt;-element supports following attributes:
	</p>
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>resources-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>dir</td>
 	 <td>No</td>
	 <td>The directory containing all resources, defaults to the &quot;resources&quot; folder.</td>
	</tr>
	<tr><td>defaultexcludes</td>
 	 <td>No</td>
	 <td>Either &quot;yes&quot;/&quot;true&quot; or &quot;no&quot;/&quot;false&quot;. Defines whether typical  files should not be copied in the application-jar-bundle during packaging. The default-files are for example &quot;polish.css&quot;, any backup-files (*.bak and *~) and the messages files used in the localization. These files are excluded by default.</td>
	</tr>
	<tr><td>excludes</td>
 	 <td>No</td>
	 <td>Additional files which should not be included in the JAR-files can be defined using the &quot;excludes&quot;-attribute. Several files need to be separated by comma. The star can be used to select several files at once, e.g. &quot;*.txt, readme*&quot;.</td>
	</tr>
	<tr><td>locales</td>
 	 <td>No</td>
	 <td>The locales which should be supported in a comma-separated list. Alternatively the nested <localization>-element can be used.  The standard Java locale-abbreviations are used, e.g. &quot;de&quot; for German, &quot;en&quot; for English and &quot;fr_CA&quot; for Canadian French. 
	 </td>
	</tr>
	</table>
	<p>
	The &lt;resources&gt;-elements accepts the nested elements &lt;fileset&gt; and &lt;localization&gt;:
	</p>	
	<h4 id="fileset">The &lt;fileset&gt; Subelement</h4>
	<p>
	The &lt;fileset&gt; behaves like any <a href="http://ant.apache.org/manual/CoreTypes/fileset.html" target="_blank">Ant fileset</a>, but it offers the additional &quot;if&quot; and &quot;unless&quot;-attributes for allowing a fine grained control. The most important attributes are:
	</p>
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>fileset-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>dir</td>
 	 <td>Yes</td>
	 <td>The base directory of this fileset. This directory needs to exist.</td>
	</tr>
	<tr><td>includes</td>
 	 <td>Yes</td>
	 <td>Defines which files should be included, e.g. &quot;*.mid&quot;.</td>
	</tr>
	<tr><td>if</td>
 	 <td>No</td>
	 <td>The Ant-property which needs to be &quot;true&quot; or the preprocessing term which needs result true for this fileset to be included.</td>
	</tr>
	<tr><td>unless</td>
 	 <td>No</td>
	 <td>The Ant-property which needs to be &quot;false&quot; or the preprocessing term which needs result false for this fileset to be included.</td>
	</tr>
	</table>	
	<h4 id="localization">The &lt;localization&gt; Subelement</h4>
	<p>
	With the &lt;localization&gt;-element the internationalization of the application can be controlled. It supports following attributes:
	</p>
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>localization-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>locales</td>
 	 <td>Yes</td>
	 <td>The locales which should be supported in a comma-separated list.  The standard Java locale-abbreviations are used, e.g. &quot;de&quot; for German, &quot;en&quot; for English and &quot;fr_CA&quot; for Canadian French.</td>
	</tr>
	<tr><td>messages</td>
 	 <td>No</td>
	 <td>The file which contains the translations. This defaults to &quot;messages.txt&quot;.</td>
	</tr>
	<tr><td>if</td>
 	 <td>No</td>
	 <td>The Ant-property which needs to be &quot;true&quot; or the preprocessing term which needs result true for this localization to be used.</td>
	</tr>
	<tr><td>unless</td>
 	 <td>No</td>
	 <td>The Ant-property which needs to be &quot;false&quot; or the preprocessing term which needs result false for this localization to be used.</td>
	</tr>
	</table>
	
	<h3 id="obfuscator">&lt;obfuscator&gt;</h3>
	<p>
	The optional &lt;obfuscator&gt;-element controls the obfuscating of the application bundle, which decreases the jar-size and makes it difficult to reverse engineer the application.
	<pre>
&lt;obfuscator unless=&quot;test&quot; enable=&quot;true&quot; name=&quot;ProGuard&quot; /&gt;
</pre>
</p>	
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>obfuscator-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>enable</td>
 	 <td>No</td>
	 <td>Either &quot;true&quot; or &quot;false&quot;. Defaults to &quot;false&quot;. Obfuscating will only be activated when enable=&quot;true&quot;.</td>
	</tr>
	<tr><td>if</td>
 	 <td>No</td>
	 <td>The name of the Ant-property which needs to be &quot;true&quot; or &quot;yes&quot; to use this &lt;obfuscator&gt;.</td>
	</tr>
	<tr><td>unless</td>
 	 <td>No</td>
	 <td>The name of the Ant-property which needs to be &quot;false&quot; or &quot;no&quot; to use this &lt;obfuscator&gt;.</td>
	</tr>
	<tr><td>name</td>
 	 <td>No</td>
	 <td>The name of the obfuscator which should be used. Defaults to <a href="http://proguard.sourceforge.net" target="_blank">&quot;ProGuard&quot;</a>. 
	 Possible values are at the moment either "ProGuard" or <a href="http://www.retrologic.com" target="_blank">"RetroGuard"</a>.
	 </td>
	</tr>
	<tr><td>class</td>
 	 <td>No</td>
	 <td>The class which controls the obfuscator. Each class which extends <code>de.enough.polish.obfuscate.Obfuscator</code> can be used. With this mechanism third 
	 party obfuscators can be <a href="custom-obfuscator.html">integrated</a> easily.</td>
	</tr>
	<tr><td>classPath</td>
 	 <td>No</td>
	 <td>The classpath for this obfuscator. This is useful for integrating a third party obfuscator.</td>
	</tr>
	</table>
	<p>Any number of &lt;obfuscator&gt;-elements  can be used in a project. 
	All active obfuscators are combined by J2ME Polish.
	</p>
	<p>
	The &lt;obfuscator&gt; supports the subelements &lt;keep&gt; and &lt;parameter&gt;.
	</p>
	<h4 id="obfuscator-keep">The &lt;keep&gt; Subelement</h4>
	<p>
	The &lt;keep&gt;-element is used to define classes which are loaded dynamically (e.g. with Class.forName(...) ) and should not be obfuscated:
<pre>
&lt;obfuscator unless=&quot;test&quot; enable=&quot;true&quot; name=&quot;ProGuard&quot; &gt;
	&lt;keep class=&quot;com.company.dynamic.SomeDynamicClass&quot; /&gt;
	&lt;keep class=&quot;com.company.dynamic.AnotherDynamicClass&quot; /&gt;
&lt;/obfuscator&gt;
</pre>
	</p>
	<p>The used MIDlet classes do not need to be set with the &lt;keep&gt; element, since they are saved from obfuscation automatically.</p>
	
	<h4 id="obfuscator-parameter">The &lt;parameter&gt; Subelement</h4>
	<p>
	The &lt;parameter&gt;-element is used to specify parameters for the obfuscator. This can be useful for integrating third party obfuscators which require additional settings:
<pre>
&lt;obfuscator unless=&quot;test&quot; enable=&quot;true&quot; name=&quot;ProGuard&quot; &gt;
	&lt;keep class=&quot;com.company.dynamic.SomeDynamicClass&quot; /&gt;
	&lt;keep class=&quot;com.company.dynamic.AnotherDynamicClass&quot; /&gt;
	&lt;parameter name=&quot;scriptFile&quot; value=&quot;../scripts/obfuscate.script&quot; /&gt;
&lt;/obfuscator&gt;
</pre>
	</p>
	
	<h4 id="obfuscator-combining">Combining Several Obfuscators</h4>
	<p>
	Several obfuscators can be combined just by specifying several &lt;obfuscator&gt; elements. When the &lt;keep&gt; subelement is used, it only needs to be specified on of the &lt;obfuscator&gt; elements. J2ME Polish will then use the obfuscated output of one obfuscator as input for the following obfuscator.
	</p>
	
	<h3 id="variables">&lt;variables&gt;</h3>
	<p>
	The optional &lt;variables&gt;-element contains several variable definitions, which can be used for the preprocessing. This mechanism can be used for example to define configuration values:
<pre>
&lt;variables includeAntProperties=&quot;true&quot;&gt;
	&lt;variable name=&quot;update-url&quot; value=&quot;http://www.enough.de/update&quot; /&gt;
	&lt;variable name=&quot;polish.TiledLayer.splitImage&quot;
		     value=&quot;true&quot; 
		     if=&quot;polish.Vendor == Nokia&quot; /&gt;

&lt;/variables&gt;
</pre>
</p>	
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>variables-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>includeAntProperties</td>
 	 <td>No</td>
	 <td>Either &quot;true&quot; or &quot;false&quot;. When &quot;true&quot; all Ant-properties will be included and can be used in the preprocessing. Defaults to &quot;false&quot;.</td>
	</tr>
	</table>
	<p>
	The &lt;variables&gt;-element contains an arbitrary number of &lt;variable&gt;-elements, which define the actual variables. Each variable needs the attributes name and value:
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>variable-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>name</td>
 	 <td>Yes</td>
	 <td>The name of the variable.</td>
	</tr>
	<tr><td>value</td>
 	 <td>Yes</td>
	 <td>The value of the variable.</td>
	</tr>
	<tr><td>if</td>
 	 <td>No</td>
	 <td>The Ant-property which needs to be &quot;true&quot; or the preprocessing term which needs result true for this variable to be included.</td>
	</tr>
	<tr><td>unless</td>
 	 <td>No</td>
	 <td>The Ant-property which needs to be &quot;false&quot; or the preprocessing term which needs result false for this variable to be included.</td>
	</tr>
	</table>
	<p>
	Variables which have been defined in this way can be included into the source code with the &quot;//#=&quot; preprocessing directive:
<pre>
//#ifdef update-url:defined
	//#= String url = &quot;${ update-url }&quot;;
//#else
	String url = &quot;http://www.default.com/update&quot;;
//#endif
</pre>
	</p>

	<h3 id="debug">&lt;debug&gt;</h3>
	<p>
	The optional &lt;debug&gt;-element controls the inclusion of debugging messages for specific classes or packages. The debugging messages will be activated or deactivated in the source code, so the performance will not be decreased, when the debugging is deactivated. 
<pre>
&lt;debug enable=&quot;true&quot; showLogOnError=&quot;true&quot; verbose=&quot;false&quot; level=&quot;error&quot;&gt;
	&lt;filter pattern=&quot;com.company.package.*&quot; level=&quot;info&quot; /&gt;
	&lt;filter pattern=&quot;com.company.package.MyClass&quot; level=&quot;debug&quot; /&gt;
&lt;/debug&gt;
</pre></p><p>
In the source code any debug messages must be accompanied by a //#debug-directive:
<pre>
//#debug
System.out.println(&quot;initialization done.&quot;);
or
//#debug warn
System.out.println(&quot;could not load something...&quot;);
or
//#debug error
System.out.println("could not load something: " + e);
</pre></p>
<p>You will find more information about the debugging
possibilities in the <a href="introduction.html#debug">introduction</a> as well as in the
<a href="directives.html#preprocessing-debug">preprocessing</a> documentation.
</p>	
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>debug-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>enable</td>
 	 <td>No</td>
	 <td>Either &quot;true&quot; or &quot;false&quot;. Debugging messages will only be included, when &quot;true&quot; is given. 
	 When both enable and if are true, then the preprocessing symbol &quot;polish.debugEnabled&quot; will be defined.</td>
	</tr>
	<tr><td>level</td>
 	 <td>No</td>
	 <td>The general debug level which is needed for debug messages. Possible values are &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;fatal&quot; or a user-defined level. Default level is &quot;debug&quot;, so all debugging messages will be included.</td>
	</tr>
	<tr><td>verbose</td>
 	 <td>No</td>
	 <td>Either &quot;true&quot; or &quot;false&quot;. When &quot;true&quot; the time, class-name and line-number will be included in each debugging message. Defaults to &quot;false&quot;.
	 When the verbose mode is enabled, the preprocessing symbol &quot;polish.debugVerbose&quot; will be defined.
	 <br/>
	In the verbose mode exceptions thrown by J2ME&nbsp;Polish will contain useful information. Also the key-handling and animation-handling will be monitored and error messages will be given out. 
	 </td>
	</tr>
	<tr><td>showLogOnError</td>
 	 <td>No</td>
	 <td>Either &quot;true&quot; or &quot;false&quot;. When &quot;true&quot; 
	 the log containing all logging-messages will be shown when an exception is logged.
An exception is logged by printing out a message which is followed by a plus and the exception variable:
<pre>
//#debug error
System.out.println(&quot;could not load something: &quot; + e);
</pre>
Alternatively the Debug-class of J2ME Polish can be used directly. Then the log will be shown when the 
Debug.debug( String message, Throwable exception ) method is called.
<br/>The log can only be shown automatically, when the J2ME Polish GUI is used.</td>
	</tr>
	<tr><td>if</td>
 	 <td>No</td>
	 <td>The name of the Ant-property which needs to be &quot;true&quot; or &quot;yes&quot; to use this &lt;debug&gt;.</td>
	</tr>
	<tr><td>unless</td>
 	 <td>No</td>
	 <td>The name of the Ant-property which needs to be &quot;false&quot; or &quot;no&quot; to use this &lt;debug&gt;.</td>
	</tr>
	</table>
	<p>
	For a finer control of the debugging process, the &lt;debug&gt; element allows the sub-element 
	&lt;filter&gt;, which defines the debug-level for specific classes or packages.
	</p>
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>filter-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>pattern</td>
 	 <td>Yes</td>
	 <td>The name of the class or of the package. When the pattern ends with a star, all classes of that package will be included, e.g. &quot;com.company.mypackage.*&quot;</td>
	</tr>
	<tr><td>level</td>
 	 <td>Yes</td>
	 <td>The debugging level for all classes with the specified pattern. Possible values are &quot;debug&quot;, &quot;info&quot;, &quot;warn&quot;, &quot;error&quot;, &quot;fatal&quot; or a user-defined level.</td>
	</tr>
	</table>
	
	<h3 id="jad">&lt;jad&gt;</h3>
	<p>With the <jad>-element user-defined attributes can be added to the JAD-file (Java Application Descriptor) as well as the MANIFEST-file which is contained in the created JAR-file. The <jad> element contains a number of <attribute>-sub-elements which define the actual attributes:
<pre>
&lt;jad&gt;
 &lt;attribute 	name=&quot;Nokia-MIDlet-Category&quot; 
 		value=&quot;Game&quot; 
		if=&quot;polish.group.Series40&quot; /&gt;
 &lt;attribute 	name=&quot;MIDlet-Push-1&quot; 
 		value=&quot;socket://:79, com.sun.example.SampleChat, *&quot; 
		if=&quot;polish.midp2&quot; /&gt;
&lt;/jad&gt;	
</pre>
</p>
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>attribute-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>name</td>
 	 <td>Yes</td>
	 <td>The name of the attribute, e.g. &quot;Nokia-MIDlet-Category&quot;</td>
	</tr>
	<tr><td>value</td>
 	 <td>Yes</td>
	 <td>The value of the attribute.</td>
	</tr>
	<tr><td>if</td>
 	 <td>No</td>
	 <td>The Ant-property which needs to be &quot;true&quot; or the preprocessing term which needs result true for this variable to be included.</td>
	</tr>
	<tr><td>unless</td>
 	 <td>No</td>
	 <td>The Ant-property which needs to be &quot;false&quot; or the preprocessing term which needs result false for this variable to be included.</td>
	</tr>
	</table>
	<p>Attributes which are defined in this way can be loaded in the application with the MIDlet.getAppProperty( String name ) method, which needs the name of the attribute as an argument and returns the value of that argument. Often it is advisable to use the variable-mechanism of J2ME Polish instead, since such values are actually hard-coded into the application and are, therefore, much faster than the getAppProperty(...)-mechanism.</p>

	<h4 id="jad-sorting">Sorting and Filtering JAD attributes</h4>
	<p>
The JAD-attributes can filtered and sorted using the &lt;filter&gt; subelement:
<pre>
&lt;jad&gt;
 &lt;attribute 
	name=&quot;Nokia-MIDlet-Category&quot; 
	value=&quot;Game&quot; 
	if=&quot;polish.group.Series40&quot; 
	/&gt;
 &lt;filter&gt;
	MIDlet-Name, MIDlet-Version, 
	MIDlet-Vendor, MIDlet-Jar-URL, MIDlet-Jar-Size, 
	MIDlet-Description?, MIDlet-Icon?, MIDlet-Info-URL?,
	MIDlet-Data-Size?, MIDlet-*, *
 &lt;/filter&gt;
&lt;/jad&gt;
</pre>
</p>
<p>
The &lt;filter&gt; element contains all allowed attribute names in the desired order and separated by commas. Following syntax is used:
</p>
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>Filter&nbsp;&nbsp;</th><th>Example&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>name</td>
 	 <td><code>MIDlet-Name</code></td>
	 <td>The complete name of a required attribute.</td>
	</tr>
	<tr><td>name followed by a questionmark</td>
 	 <td><code>MIDlet-Icon?</code></td>
	 <td>The complete name of an optional attribute.</td>
	</tr>
	<tr><td>beginning of a name followed by a star</td>
 	 <td><code>MIDlet-*</code></td>
	 <td>All remaining attributes which names start with the given sequence will be included at this position.</td>
	</tr>
	<tr><td>start</td>
 	 <td><code>*</code></td>
	 <td>All remaining attributes will be included at this position. A star can only positioned at the end of a filter.</td>
	</tr>
	</table>
	<p>An overview about allowed attributes can be found at <a href="http://java.sun.com/j2me/docs/wtk2.0/user_html/Ap_Attributes.html" target="_blank">http://java.sun.com/j2me/docs/wtk2.0/user_html/Ap_Attributes.html</a>.
	</p>

<h3 id="manifestFilter">&lt;manifestFilter&gt;</h3>
<p>
The manifest filter element can be used to sort and filter manifest attributes. Please note that the first included attribute should always be the &quot;Manifest-Version&quot;-attribute. Otherwise the application will most likely not work:
<pre>
&lt;manifestFilter&gt;
	Manifest-Version, MIDlet-Name, MIDlet-Version, MIDlet-Vendor,
	MIDlet-1, MIDlet-2?, MIDlet-3?, MIDlet-4?, MIDlet-5?, 
	MicroEdition-Profile, MicroEdition-Configuration,
	MIDlet-Description?, MIDlet-Icon?, MIDlet-Info-URL?,
	MIDlet-Data-Size?
&lt;/manifestFilter&gt;
</pre>
</p><p>
The &lt;manifestFilter&gt; element contains all allowed attribute names in the desired order and separated by commas. Following syntax is used:		
</p>
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>Filter&nbsp;&nbsp;</th><th>Example&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>name</td>
 	 <td><code>MIDlet-Name</code></td>
	 <td>The complete name of a required attribute.</td>
	</tr>
	<tr><td>name followed by a questionmark</td>
 	 <td><code>MIDlet-2?</code></td>
	 <td>The complete name of an optional attribute.</td>
	</tr>
	<tr><td>beginning of a name followed by a star</td>
 	 <td><code>MIDlet-*</code></td>
	 <td>All remaining attributes which names start with the given sequence will be included at this position.</td>
	</tr>
	<tr><td>start</td>
 	 <td><code>*</code></td>
	 <td>All remaining attributes will be included at this position. A star can only positioned at the end of a filter.</td>
	</tr>
	</table>
	<p>An overview about allowed attributes can be found at <a href="http://java.sun.com/j2me/docs/wtk2.0/user_html/Ap_Attributes.html" target="_blank">http://java.sun.com/j2me/docs/wtk2.0/user_html/Ap_Attributes.html</a>.
	</p>

<h3 id="preprocessor">&lt;preprocessor&gt;</h3>
<p>
The &lt;preprocessor&gt; element can be used to 
<a href="custom-preprocessor.html">integrate</a> own or third party preprocessors. 
This can be used for allowing new preprocessing directives for example.
<pre>
&lt;preprocessor
	class=&quot;com.company.preprocess.MyPreprocessor&quot; 	
	classPath=&quot;import/preprocessing.jar&quot; 	
	&gt;
 &lt;parameter 
	name=&quot;scriptFile&quot; 
	value=&quot;../scripts/preprocess.script&quot; 
	/&gt;
&lt;/preprocessor&gt;	
</pre></p>
	<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>preprocessor-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr><td>class</td>
 	 <td>Yes</td>
	 <td>The class of the preprocessor.</td>
	</tr>
	<tr>
	 <td>classPath</td>
 	 <td>Yes</td>
	 <td>The classpath for the preprocessor.</td>
	</tr>
	<tr><td>if</td>
 	 <td>No</td>
	 <td>The name of the Ant-property, which needs to be &quot;true&quot; or &quot;yes&quot;, when this &lt;preprocessor&gt; element should be used.</td>
	</tr>
	<tr><td>unless</td>
 	 <td>No</td>
	 <td>The name of the Ant-property, which needs to be &quot;false&quot; or &quot;no&quot;, when this &lt;preprocessor &gt; element should be used..</td>
	</tr>
	</table>
	<p>
	The preprocessor can be configured using a number &lt;parameter&gt; subelements. Each &lt;parameter&gt; subelement needs to define the attributes &quot;name&quot; and &quot;value&quot;.
	</p>

<h3 id="java">&lt;java&gt;</h3>
<p>
The &lt;java&gt;-element can be used to extend J2ME Polish with any Java utility. It accepts all attributes and nested elements like the Ant-&lt;java&gt;-element 
(compare <a href="http://ant.apache.org/manual/CoreTasks/java.html" target="_blank">http://ant.apache.org/manual/CoreTasks/java.html</a>)
as well as the additional attribute &quot;if&quot;, &quot;unless&quot; and &quot;message&quot;. J2ME Polish variables can be used in the nested &lt;arg&gt;-elements, so that the call can be adjusted for the current device.
</p><p>
Each defined &lt;java&gt;-element is called after the successful creation of an application-bundle.
 A possible use of the &lt;java&gt;-element is the signing of MIDlets, which is 
 described in the <a href="how-tos.html#howto-signing">signing-how-to</a>.
</p><p>
The following example calls the JadUtil.jar of the Wireless Toolkit for signing a JAD file:
<pre>
&lt;java jar=&quot;${wtk.home}/bin/JadTool.jar&quot; 
      	fork=&quot;true&quot; 
      	failonerror=&quot;true&quot; 
    	if=&quot;polish.midp2&quot; 
	unless=&quot;test&quot;
	message=&quot;Adding signature for device ${polish.identifier}&quot;
	&gt;
	&lt;arg line=&quot;-addjarsig&quot;/&gt;
	&lt;arg line=&quot;-keypass ${password}&quot;/&gt;
	&lt;arg line=&quot;-alias SignMIDlet&quot;/&gt;
	&lt;arg line=&quot;-keystore midlets.ks&quot;/&gt;
	&lt;arg line=&quot;-inputjad dist/${polish.jadName}&quot;/&gt;
	&lt;arg line=&quot;-outputjad dist/${polish.jadName}&quot;/&gt;
	&lt;arg line=&quot;-jarfile dist/${polish.jarName}&quot;/&gt;
&lt;/java&gt;	
</pre></p><p>
Following variables can be used in the &lt;arg&gt;-element and the &quot;message&quot;-attribute:
</p>
<ul>
	<li><i>polish.vendor</i>: The vendor of the current device, e.g. &quot;Siemens&quot; or &quot;Nokia&quot;.</li>
	<li><i>polish.name</i>: The  name of the current device, e.g. &quot;N-Gage&quot;.</li>
	<li><i>polish.identifier</i>: The identifier of the current device, e.g. &quot;Siemens/SX1&quot;.</li>
	<li><i>polish.version</i>: The version of the application as defined in the <a href="build-info.html">info-section</a>.</li>
	<li><i>polish.jarName</i>: The name of the jar-file as defined in the <a href="build-info.html">info-section</a>.</li>
	<li><i>polish.jadName</i>: The name of the jad-file as defined in the <a href="build-info.html">info-section</a>.</li>
</ul>
<p>
The most important attributes of the &lt;java&gt;-element are:
</p>
<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>java-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr>
	 <td>classname</td>
 	 <td>either classname or jar</td>
	 <td>The name of the class which should be executed.</td>
	</tr>
	<tr>
	 <td>jar</td>
 	 <td>either classname or jar</td>
	 <td>The location of the jar file to execute (must have a Main-Class entry in the manifest). Fork must be set to true if this option is selected.</td>
	</tr>
	<tr>
	 <td>fork</td>
 	 <td>No</td>
	 <td>If enabled triggers the class execution in another VM (disabled by default).</td>
	</tr>
	<tr>
	 <td>message</td>
 	 <td>No</td>
	 <td>A message which will be printed out on the standard output when this &lt;java&gt;-element is executed. The message can contain J2ME Polish variables, such as ${ polish.identifier }.</td>
	</tr>
	<tr>
	 <td>if</td>
 	 <td>No</td>
	 <td>The Ant-property which needs to be &quot;true&quot; or the preprocessing term which needs result true when this &lt;java&gt;-element should be executed.</td>
	</tr>
	<tr>
	 <td>unless</td>
 	 <td>No</td>
	 <td>The Ant-property which needs to be &quot;false&quot; or the preprocessing term which needs result false when this &lt;java&gt;-element should be executed.</td>
	</tr>
</table>
<p>The most important nested element is the &lt;arg&gt;-element:</p>
<table class="borderedTable"  cellspacing="0" cellpadding="3" border="1">
	<tr><th>arg-Attribute&nbsp;&nbsp;</th><th>Required&nbsp;&nbsp;</th><th>Explanation</th></tr>
	<tr>
	 <td>line</td>
 	 <td>No</td>
	 <td>A space-delimited list of command-line arguments.</td>
	</tr>
</table>
<p>Please refer to the Ant-documentation at
 <a href="http://ant.apache.org/manual/CoreTasks/java.html" target="_blank">http://ant.apache.org/manual/CoreTasks/java.html</a>
 for more information about the &lt;java&gt;-element.
</p>
	
<%include end.txt %>
